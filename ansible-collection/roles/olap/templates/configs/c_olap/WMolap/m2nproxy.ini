
[common]
regime=0

[clients]
allowDynamicConnectionTypes=1

[servers]
{% for instance in range(1, olap_wmolap_server_instances + 1) %}
connection=s{{ instance }}
{% endfor %}

{% for instance in range(1, olap_wmolap_server_instances + 1) %}
[s{{ instance }}]
server=ip:{{ hostvars[inventory_hostname]['private_ip_address'] }}:2224
serverobject=AuxWMOlapServer{{ instance }}Instance

{% endfor %}

[logger]
server=ip:{{ hercules_host }}:9322
station={{ stationname }}.C_OLAP.WM.AuxWMProxy-{{ hostvars[inventory_hostname]['private_ip_address'].split('.')[-1] }}

[telemetry.targets]
hercules = true
gateway = true
[telemetry.gateway.conn-params]
address = ip:127.0.0.1:5447
instance = TelgatewayInstance
[telemetry.metrics.tags]
application = OLAP
environment = {{ hostvars[inventory_hostname].tags.Environment }}
name = {{ hostvars[inventory_hostname].tags.Name }}
instanceid = {{ hostvars[inventory_hostname].instance_id }}
platform = {{ hostvars[inventory_hostname].tags.Platform }}
zone = {{ hostvars[inventory_hostname].tags.Zone }}
station_name = {{ stationname }}.C_OLAP.WM.AuxWMProxy-{{ hostvars[inventory_hostname]['private_ip_address'].split('.')[-1] }}
service_name = OLAP
[telemetry.metrics.filters.1]
regex = .*