[startup]
{{ ip2country_startup }}

[resolver]
{{ ip2country_resolver }}

[resolver-info]
{{ ip2country_resolver_info }}

{% if ip2country_resolver_map %}
[resolver-map]
{{ ip2country_resolver_map }}
{% endif %}

{% if ip2country_clients %}
[clients]
{{ ip2country_clients }}
{% endif %}

{% if ip2country_marketdbm %}
[marketDbm]
{{ ip2country_marketdbm }}
{% endif %}

{% if ip2country_neturl %}
[neturl]
{{ ip2country_neturl }}
{% endif %}

{% if ip2country_comurl %}
[comurl]
{{ ip2country_comurl }}
{% endif %}

{% if ip2country_msglimitoptions %}
[msglimitoptions]
{{ ip2country_msglimitoptions }}
{% endif %}

[LOGGER]
loggerAddress=ip:{{ hercules_host }}:9322
logStationName={{ stationname }}.C_LOBBY.c_ip2country-{{ hostvars[inventory_hostname]['private_ip_address'].split('.')[-1] }}
uselogger=1

[telemetry.targets]
hercules = true
gateway = true
[telemetry.gateway.conn-params]
address = ip:127.0.0.1:5447
instance = TelgatewayInstance
[telemetry.metrics.tags]
application = c_ip2country
environment = {{ hostvars[inventory_hostname].tags.Environment }}
name = {{ hostvars[inventory_hostname].tags.Name }}
instanceid = {{ hostvars[inventory_hostname].instance_id }}
platform = {{ hostvars[inventory_hostname].tags.Platform }}
zone = {{ hostvars[inventory_hostname].tags.Zone }}
station_name = {{ stationname }}.C_LOBBY.c_ip2country-{{ hostvars[inventory_hostname]['private_ip_address'].split('.')[-1] }}
service_name = c_ip2country
[telemetry.metrics.filters.1]
regex = .*
